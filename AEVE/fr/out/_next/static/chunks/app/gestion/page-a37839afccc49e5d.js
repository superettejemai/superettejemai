(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22],{12905:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r={src:"/_next/static/media/dinar.1f6d249a.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAIVBMVEVLS0s9Pj87PD0/QUE7Oz09P0A8PD09Pj48PD89PUA9PT0VozlBAAAAC3RSTlMESpIUcihrOFwxdAstonUAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAA2SURBVHicFcu5EcAwDMAwUo8le/+Bc0EPwF0B9sycha6ErEavjuLJ6T5yw0zjQkVE1N98T/gAHs0A0ZVGh5sAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},13220:(e,t,s)=>{"use strict";s.d(t,{k5:()=>d});var r=s(12115),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=r.createContext&&r.createContext(a),i=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach(function(t){var r,a,l;r=e,a=t,l=s[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function d(e){return t=>r.createElement(x,o({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,s)=>r.createElement(t.tag,c({key:s},t.attr),e(t.child)))}(e.child))}function x(e){var t=t=>{var s,{attr:a,size:l,title:n}=e,d=function(e,t){if(null==e)return{};var s,r,a=function(e,t){if(null==e)return{};var s={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;s[r]=e[r]}return s}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)s=l[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}(e,i),x=l||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),r.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,d,{className:s,style:c(c({color:e.color||t.color},t.style),e.style),height:x,width:x,xmlns:"http://www.w3.org/2000/svg"}),n&&r.createElement("title",null,n),e.children)};return void 0!==l?r.createElement(l.Consumer,null,e=>t(e)):t(a)}},35839:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(95155),a=s(12115),l=s(5772),i=s(79848),o=s(12905),n=s(36959);function c(){let[e,t]=(0,a.useState)([]),[s,c]=(0,a.useState)([]),[d,x]=(0,a.useState)(!0),[m,u]=(0,a.useState)(!0),[p,g]=(0,a.useState)(null),[h,f]=(0,a.useState)(""),[b,y]=(0,a.useState)("name"),[j,N]=(0,a.useState)("asc"),[v,w]=(0,a.useState)({value:"all",label:"Toutes les cat\xe9gories"}),[k,S]=(0,a.useState)({value:"all",label:"Tous les stocks"}),[A,C]=(0,a.useState)({isOpen:!1,product:null}),[_,E]=(0,a.useState)(null),T=async()=>{try{u(!0);let e=localStorage.getItem("authToken");if(!e){g("Authentication token not found. Please log in again."),u(!1);return}let t=await fetch("http://localhost:4000/api/users/me",{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t||!t.ok){console.warn("Could not fetch user from API, using default permissions"),E({role:"admin"}),u(!1);return}let s=await t.json();E(s.user||s)}catch(e){console.error("Error fetching current user:",e),E({role:"admin"})}finally{u(!1)}},O=async()=>{try{x(!0),g(null);let e=localStorage.getItem("authToken");if(!e){g("Authentication token not found. Please log in again."),x(!1);return}let s=`http://localhost:4000/api/products?${new URLSearchParams({q:h,sort:b,order:j})}`,r=await fetch(s,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok)throw Error("Failed to fetch products");let a=await r.json();t(a.products||[])}catch(e){g(e instanceof Error?e.message:"An error occurred"),console.error("Error fetching products:",e)}finally{x(!1)}},P=async()=>{if(A.product){if(_?.role==="worker"){alert("Vous n'avez pas les autorisations n\xe9cessaires pour supprimer des produits."),C({isOpen:!1,product:null});return}try{let e=localStorage.getItem("authToken");if(!e)return void alert("Authentication token not found. Please log in again.");if(!(await fetch(`http://localhost:4000/api/products/${A.product.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).ok)throw Error("Failed to delete product");t(e=>e.filter(e=>e.id!==A.product.id)),C({isOpen:!1,product:null})}catch(e){alert(e instanceof Error?e.message:"\xc9chec de la suppression du produit"),console.error("Error deleting product:",e)}}},F=e=>{b===e?N("asc"===j?"desc":"asc"):(y(e),N("asc"))},z=()=>{C({isOpen:!1,product:null})},I=[{value:"all",label:"Toutes les cat\xe9gories"},...Array.from(new Set(e.map(e=>e.category).filter(Boolean))).map(e=>({value:e,label:e}))],D={control:(e,t)=>({...e,border:"1px solid #d1d5db",borderRadius:"0px",boxShadow:t.isFocused?"0 0 0 1px #9ca3af":"none","&:hover":{borderColor:"#9ca3af"},minHeight:"48px",padding:"0px 4px"}),option:(e,t)=>({...e,backgroundColor:t.isSelected?"#4b5563":t.isFocused?"#f3f4f6":"white",color:t.isSelected?"white":"#374151",padding:"12px 16px",fontSize:"14px",textTransform:"capitalize","&:hover":{backgroundColor:"#364153",color:"white"}}),menu:e=>({...e,borderRadius:"0px",border:"1px solid #d1d5db",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}),menuList:e=>({...e,padding:"4px 0"}),singleValue:e=>({...e,fontSize:"14px",color:"#374151"}),placeholder:e=>({...e,fontSize:"14px",color:"#9ca3af"}),dropdownIndicator:e=>({...e,padding:"8px"}),clearIndicator:e=>({...e,padding:"8px"}),valueContainer:e=>({...e,padding:"4px 12px"}),input:e=>({...e,margin:"0px",padding:"0px"})},R=_?.role==="worker";(0,a.useEffect)(()=>{(async()=>{await T(),await O()})()},[]),(0,a.useEffect)(()=>{m||O()},[b,j,m]),(0,a.useEffect)(()=>{let t=[...e];if("all"!==v.value&&(t=t.filter(e=>e.category===v.value)),"all"!==k.value)switch(k.value){case"out":t=t.filter(e=>0===e.stock);break;case"low":t=t.filter(e=>e.stock>0&&e.stock<=10);break;case"normal":t=t.filter(e=>e.stock>10)}c(t)},[e,v,k]);let U=e=>new Intl.NumberFormat("fr-TN",{minimumFractionDigits:3,maximumFractionDigits:3}).format(e)+" DT",L=e=>{if(e.ProductImages&&e.ProductImages.length>0){let t=e.ProductImages[0].url;return t.startsWith("http")?t:`http://localhost:4000${t}`}return null},$={total:s.length,lowStock:s.filter(e=>e.stock>0&&e.stock<=10).length,outOfStock:s.filter(e=>0===e.stock).length,totalValue:s.reduce((e,t)=>e+t.price*t.stock,0)};return d||m?(0,r.jsx)("div",{className:"min-h-screen bg-white p-6",children:(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-black"})})}):(0,r.jsxs)("div",{className:"min-h-screen bg-white px-5",children:[A.isOpen&&A.product&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/90 bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsx)("div",{className:"bg-white border border-gray-200 w-full max-w-md",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(n.PAG,{className:"w-5 h-5 text-red-600"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirmer la suppression"})]}),(0,r.jsx)("button",{onClick:z,className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",children:(0,r.jsx)(n.IeJ,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"\xcates-vous s\xfbr de vouloir supprimer le produit suivant ?"}),(0,r.jsxs)("div",{className:"bg-gray-50 p-3 border border-gray-200",children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:A.product.name}),A.product.sku&&(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["SKU: ",A.product.sku]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Prix: ",U(A.product.price)," | Stock:"," ",A.product.stock]})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Cette action peut \xeatre annul\xe9e. Le produit pourra \xeatre restaur\xe9 si n\xe9cessaire."})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,r.jsx)("button",{onClick:z,className:"px-4 py-4 bg-white border border-gray-300 text-gray-700 text-sm hover:bg-gray-50 transition-colors focus:ring-1 focus:ring-gray-400",children:"Annuler"}),(0,r.jsxs)("button",{onClick:P,className:"px-4 py-4 bg-red-600 text-white text-sm hover:bg-red-700 transition-colors border border-gray-300 focus:ring-1 focus:ring-gray-400 flex items-center gap-2",children:[(0,r.jsx)(n.WeY,{className:"w-4 h-4"}),"Supprimer"]})]})]})})}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 mb-1",children:"Gestion des Produits"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"G\xe9rez vos produits et suivez vos stocks"}),_&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Connect\xe9 en tant que:"," ",(0,r.jsx)("span",{className:"font-medium",children:_.name||"Utilisateur"}),"(","admin"===_.role?"Administrateur":"Employ\xe9",")",R&&(0,r.jsx)("span",{className:"ml-2 text-red-600",children:"(Permissions limit\xe9es)"})]})]}),(0,r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-4 bg-gray-600 text-white text-sm hover:bg-gray-700 transition-colors mt-4 lg:mt-0 border border-gray-300 font-medium focus:ring-1 focus:ring-gray-400 disabled:bg-gray-400 disabled:cursor-not-allowed",onClick:()=>window.location.href="/gestion/add",title:R?"Non autoris\xe9 \xe0 ajouter des produits":"Ajouter un produit",children:[(0,r.jsx)(n.QCG,{className:"w-4 h-4"}),"Ajouter un produit"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,r.jsx)("div",{className:"bg-white p-4 border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-base font-medium text-gray-600",children:"Total Produits"}),(0,r.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:$.total})]}),(0,r.jsx)(n.Xs8,{className:"w-5 h-5 text-gray-500"})]})}),(0,r.jsx)("div",{className:"bg-white p-4 border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-base font-medium text-gray-600",children:"Stock Faible"}),(0,r.jsx)("p",{className:"text-xl font-semibold text-yellow-600",children:$.lowStock})]}),(0,r.jsx)(n.Xs8,{className:"w-5 h-5 text-gray-500"})]})}),(0,r.jsx)("div",{className:"bg-white p-4 border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-base font-medium text-gray-600",children:"Rupture"}),(0,r.jsx)("p",{className:"text-xl font-semibold text-red-600",children:$.outOfStock})]}),(0,r.jsx)(n.Xs8,{className:"w-5 h-5 text-gray-500"})]})}),(0,r.jsx)("div",{className:"bg-white p-4 border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-base font-medium text-gray-600",children:"Valeur Stock"}),(0,r.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:U($.totalValue)})]}),(0,r.jsx)(l.default,{src:o.A.src,className:"w-11 h-10",width:11,height:10,alt:"Dinar Logo"})]})})]})]}),p&&(0,r.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(n.PAG,{className:"w-4 h-4 mr-2"}),(0,r.jsx)("span",{className:"text-sm",children:p})]}),(0,r.jsx)("button",{onClick:()=>g(null),className:"text-red-500 hover:text-red-700",children:(0,r.jsx)(n.IeJ,{className:"w-4 h-4"})})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200",children:[(0,r.jsx)("div",{className:"border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center p-4",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 mb-4 lg:mb-0 w-full sm:w-auto",children:[(0,r.jsx)("div",{className:"w-full sm:w-48",children:(0,r.jsx)(i.Ay,{value:v,onChange:e=>w(e),options:I,styles:D,isSearchable:!1})}),(0,r.jsx)("div",{className:"w-full sm:w-48",children:(0,r.jsx)(i.Ay,{value:k,onChange:e=>S(e),options:[{value:"all",label:"Tous les stocks"},{value:"out",label:"Rupture de stock"},{value:"low",label:"Stock faible"},{value:"normal",label:"Stock normal"}],styles:D,isSearchable:!1})})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),O()},className:"flex flex-col sm:flex-row gap-2 w-full lg:w-auto",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(n.YQq,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,r.jsx)("input",{type:"text",placeholder:"Rechercher des produits...",value:h,onChange:e=>f(e.target.value),className:"pl-10 pr-4 py-4 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-400 w-full sm:w-64 text-sm"})]}),(0,r.jsx)("button",{type:"submit",className:"px-3 py-4 bg-gray-600 text-white text-sm hover:bg-gray-700 transition-colors border border-gray-300 focus:ring-1 focus:ring-gray-400",children:"Rechercher"}),(0,r.jsxs)("button",{onClick:O,className:"flex items-center gap-2 px-3 py-4 bg-white border border-gray-300 text-gray-700 text-sm hover:bg-gray-50 transition-colors focus:ring-1 focus:ring-gray-400",children:[(0,r.jsx)(n.OWu,{className:"w-4 h-4"}),"Actualiser"]})]})]})}),(0,r.jsx)("div",{className:"px-4 py-3 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[s.length," produit(s) trouv\xe9(s)",("all"!==v.value||"all"!==k.value)&&(0,r.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(filtr\xe9 sur ",e.length," total)"]})]})}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsxs)("button",{onClick:()=>F("name"),className:"flex items-center gap-1 hover:text-gray-700",children:["Nom","name"===b&&("asc"===j?(0,r.jsx)(n.a0T,{className:"w-3 h-3"}):(0,r.jsx)(n.tEr,{className:"w-3 h-3"}))]})}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsxs)("button",{onClick:()=>F("price"),className:"flex items-center gap-1 hover:text-gray-700",children:["Prix","price"===b&&("asc"===j?(0,r.jsx)(n.a0T,{className:"w-3 h-3"}):(0,r.jsx)(n.tEr,{className:"w-3 h-3"}))]})}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsxs)("button",{onClick:()=>F("stock"),className:"flex items-center gap-1 hover:text-gray-700",children:["Stock","stock"===b&&("asc"===j?(0,r.jsx)(n.a0T,{className:"w-3 h-3"}):(0,r.jsx)(n.tEr,{className:"w-3 h-3"}))]})}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cat\xe9gorie"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code \xe0 barre"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===s.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:7,className:"px-4 py-8 text-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[(0,r.jsx)(n.Xs8,{className:"w-8 h-8 mb-2 text-gray-300"}),(0,r.jsx)("p",{className:"text-sm font-medium mb-1",children:"Aucun produit trouv\xe9"}),(0,r.jsx)("p",{className:"text-xs mb-3",children:0===e.length?"Commencez par cr\xe9er votre premier produit":"Aucun produit ne correspond aux filtres s\xe9lectionn\xe9s"}),!R&&(0,r.jsx)("button",{onClick:()=>window.location.href="/gestion/add",className:"px-3 py-2 bg-gray-600 text-white text-sm hover:bg-gray-700 transition-colors border border-gray-300 focus:ring-1 focus:ring-gray-400",children:"Ajouter un produit"})]})})}):s.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsxs)("div",{className:"w-10 h-10 bg-gray-100 flex items-center justify-center overflow-hidden border border-gray-300",children:[L(e)?(0,r.jsx)("img",{src:L(e),alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.style.display="none"}}):null,!L(e)&&(0,r.jsx)(n.fOK,{className:"w-4 h-4 text-gray-400"})]})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.sku&&(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["SKU: ",e.sku]})]})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:U(e.price)})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsxs)("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium ${e.stock>10?"bg-green-100 text-green-800":e.stock>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[e.stock," en stock"]})}),(0,r.jsx)("td",{className:"px-4 py-3",children:e.category?(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-gray-100 text-gray-700",children:[(0,r.jsx)(n.oiv,{className:"w-3 h-3 mr-1"}),e.category]}):(0,r.jsx)("span",{className:"text-xs text-gray-400",children:"Non cat\xe9goris\xe9"})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsxs)("div",{className:"flex items-center text-sm",children:[(0,r.jsx)(n.JYq,{className:"w-4 h-4 mr-2 text-gray-400"}),e.barcode||"N/A"]})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("button",{className:`flex items-center gap-1 px-6 py-4 text-xs border border-gray-300 focus:ring-1 focus:ring-gray-400 ${R?"text-gray-400 bg-gray-100 cursor-not-allowed":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,onClick:()=>!R&&void(_?.role==="worker"?alert("Vous n'avez pas les autorisations n\xe9cessaires pour modifier des produits."):window.location.href=`/gestion/edit?id=${e.id}`),title:R?"Non autoris\xe9 \xe0 modifier":"Modifier",disabled:R,children:[(0,r.jsx)(n.dJk,{className:"w-3 h-3"}),"Modifier"]}),(0,r.jsxs)("button",{className:`flex items-center gap-1 px-6 py-4 text-xs border border-gray-300 focus:ring-1 focus:ring-gray-400 ${R?"text-gray-400 bg-gray-100 cursor-not-allowed":"text-red-600 hover:text-red-800 hover:bg-red-50"}`,onClick:()=>!R&&void(_?.role==="worker"?alert("Vous n'avez pas les autorisations n\xe9cessaires pour supprimer des produits."):C({isOpen:!0,product:e})),title:R?"Non autoris\xe9 \xe0 supprimer":"Supprimer",disabled:R,children:[(0,r.jsx)(n.WeY,{className:"w-3 h-3"}),"Supprimer"]})]})})]},e.id))})]})})]})]})}var d=s(19847),x=s.n(d),m=s(34071);function u(){let[e,t]=(0,a.useState)([]),[s,c]=(0,a.useState)(!0),[d,m]=(0,a.useState)(null),[u,p]=(0,a.useState)(""),[g,h]=(0,a.useState)("all"),[f,b]=(0,a.useState)({value:"all",label:"Tous les statuts"}),[y,j]=(0,a.useState)(!1),[N,v]=(0,a.useState)(null),[w,k]=(0,a.useState)(!1),[S,A]=(0,a.useState)("all"),[C,_]=(0,a.useState)("facture_date"),[E,T]=(0,a.useState)("desc"),[O,P]=(0,a.useState)({supplier_name:"",supplier_info:"",facture_date:new Date().toISOString().split("T")[0],comment:"",supplier_phone:"",supplier_email:"",supplier_address:""}),[F,z]=(0,a.useState)([]),[I,D]=(0,a.useState)(""),[R,U]=(0,a.useState)([]),[L,$]=(0,a.useState)(!1),q=(0,a.useRef)(null),B=(0,a.useRef)(null),V=(0,a.useRef)(null),[W,G]=(0,a.useState)({total:0,draft:0,confirmed:0,cancelled:0,totalAmount:0}),H=async(e=u)=>{try{c(!0),m(null);let s=localStorage.getItem("authToken");if(!s){m("Authentication token not found. Please log in again."),c(!1);return}let r=new URLSearchParams;e.trim()&&(e.toUpperCase().startsWith("FACT-")?r.append("facture_number",e):r.append("supplier",e)),"all"!==g&&r.append("status",g),r.append("sort",C),r.append("order",E);let a=await fetch("http://localhost:4000/api/factures?"+r,{method:"GET",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch factures");let l=await a.json();t(l.factures||[]),M(l.factures||[])}catch(e){m(e instanceof Error?e.message:"An error occurred"),console.error("Error fetching factures:",e)}finally{c(!1)}},M=e=>{G({total:e.length,draft:e.filter(e=>"draft"===e.status).length,confirmed:e.filter(e=>"confirmed"===e.status).length,cancelled:e.filter(e=>"cancelled"===e.status).length,totalAmount:e.reduce((e,t)=>e+t.total_amount,0)})},Y=async e=>{if(!e.trim()){U([]),$(!1);return}try{let t=localStorage.getItem("authToken"),s=await fetch(`http://localhost:4000/api/products?q=${encodeURIComponent(e)}&limit=10`,{headers:{Authorization:`Bearer ${t}`}});if(s.ok){let e=await s.json();U(e.products||[]),$(!0)}}catch(e){console.error("Error searching products:",e)}},Q=(e,t=1)=>{if(F.find(t=>t.product_id===e.id))z(F.map(s=>s.product_id===e.id?{...s,quantity:s.quantity+t,total_cost:(s.quantity+t)*s.unit_cost}:s));else{let s=e.cost_price||.8*e.price;z([...F,{product_id:e.id,product:e,quantity:t,unit_cost:s,total_cost:s*t}])}},K=(e,t)=>{if(t<1)return;let s=[...F];s[e]={...s[e],quantity:t,total_cost:t*s[e].unit_cost},z(s)},Z=async()=>{if(!O.supplier_name.trim())return void alert("Veuillez saisir le nom du fournisseur");if(0===F.length)return void alert("Veuillez ajouter au moins un produit");try{let e=localStorage.getItem("authToken"),t=await fetch("http://localhost:4000/api/factures",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({supplier_name:O.supplier_name,supplier_info:O.supplier_info,supplier_phone:O.supplier_phone,supplier_email:O.supplier_email,supplier_address:O.supplier_address,facture_date:O.facture_date,comment:O.comment,items:F.map(e=>({product_id:e.product_id,quantity:e.quantity,unit_cost:e.unit_cost}))})});if(!t.ok)throw Error("Failed to create facture");(await t.json()).success&&(j(!1),J(),H(),alert("Facture cr\xe9\xe9e avec succ\xe8s !"))}catch(e){alert(e instanceof Error?e.message:"\xc9chec de la cr\xe9ation de la facture"),console.error("Error creating facture:",e)}},J=()=>{P({supplier_name:"",supplier_info:"",facture_date:new Date().toISOString().split("T")[0],comment:"",supplier_phone:"",supplier_email:"",supplier_address:""}),z([]),D(""),U([]),$(!1)},X=async e=>{if(confirm("\xcates-vous s\xfbr de vouloir confirmer cette facture ? Cela mettra \xe0 jour le stock des produits."))try{let t=localStorage.getItem("authToken"),s=await fetch(`http://localhost:4000/api/factures/${e}/confirm`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!s.ok)throw Error("Failed to confirm facture");(await s.json()).success&&(H(),alert("Facture confirm\xe9e et stock mis \xe0 jour avec succ\xe8s !"))}catch(e){alert(e instanceof Error?e.message:"\xc9chec de la confirmation de la facture"),console.error("Error confirming facture:",e)}},ee=async e=>{if(confirm("\xcates-vous s\xfbr de vouloir annuler cette facture ? Cette action ne peut pas \xeatre annul\xe9e."))try{let t=localStorage.getItem("authToken"),s=await fetch(`http://localhost:4000/api/factures/${e}/cancel`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!s.ok)throw Error("Failed to cancel facture");(await s.json()).success&&(H(),alert("Facture annul\xe9e avec succ\xe8s !"))}catch(e){alert(e instanceof Error?e.message:"\xc9chec de l'annulation de la facture"),console.error("Error cancelling facture:",e)}},et=e=>{C===e?T("asc"===E?"desc":"asc"):(_(e),T("desc"))},es=e=>new Intl.NumberFormat("fr-TN",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e)+" DT",er=e=>e.FactureItems||[],ea=()=>{if(!N)return;let e=[[{text:"Produit",style:"tableHeader"},{text:"Quantit\xe9",style:"tableHeader"},{text:"Prix Unitaire",style:"tableHeader"},{text:"Total",style:"tableHeader"}],...er(N).map(e=>[e.product?.name||`Produit #${e.product_id}`,e.quantity.toString(),es(e.unit_cost),es(e.total_cost)])];e.push([{text:"TOTAL",style:"totalLabel",colSpan:3,alignment:"right"},"","",{text:es(N.total_amount),style:"totalAmount"}]);let t={pageSize:"A4",pageMargins:[40,60,40,60],content:[{columns:[{stack:[{text:"VOTRE ENTREPRISE",style:"companyName"},{text:"123 Rue Principale",style:"companyInfo"},{text:"Tunis, Tunisie",style:"companyInfo"},{text:"T\xe9l: +216 12 345 678",style:"companyInfo"},{text:"Email: contact@entreprise.tn",style:"companyInfo"}],width:"50%"},{stack:[{text:"FACTURE",style:"header"},{text:`N\xb0 ${N.facture_number}`,style:"factureNumber"},{text:`Date: ${new Date(N.facture_date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}`,style:"date"},{text:`Statut: ${N.status.toUpperCase()}`,style:"confirmed"===N.status?"statusConfirmed":"draft"===N.status?"statusDraft":"statusCancelled"}],width:"50%",alignment:"right"}],margin:[0,0,0,30]},{stack:[{text:"INFORMATIONS FOURNISSEUR",style:"sectionHeader"},{table:{widths:["*"],body:[[{stack:[{text:N.supplier_name,style:"supplierName"},N.supplier_info?{text:N.supplier_info,style:"supplierInfo"}:{text:""}]}]]},layout:{fillColor:()=>"#f8fafc"},margin:[0,5,0,20]}]},{stack:[{text:"D\xc9TAIL DES PRODUITS",style:"sectionHeader"},{table:{headerRows:1,widths:["*","auto","auto","auto"],body:e},layout:{hLineWidth:(e,t)=>0===e||e===t.table.body.length?1:.5,vLineWidth:()=>.5,hLineColor:()=>"#374151",vLineColor:()=>"#374151",fillColor:t=>0===t?"#374151":t===e.length-1?"#f1f5f9":t%2==0?"#f8fafc":null}}]},...N.comment?[{stack:[{text:"OBSERVATIONS",style:"sectionHeader",margin:[0,20,0,5]},{text:N.comment,style:"comment",margin:[0,0,0,20]}]}]:[],{columns:[{text:"Merci pour votre confiance",style:"thankYou",width:"50%"},{text:`G\xe9n\xe9r\xe9 le ${new Date().toLocaleDateString("fr-FR")} \xe0 ${new Date().toLocaleTimeString("fr-FR")}`,style:"footer",width:"50%",alignment:"right"}],margin:[0,30,0,0]}],styles:{companyName:{fontSize:16,bold:!0,color:"#1e293b"},companyInfo:{fontSize:9,color:"#64748b",margin:[0,1,0,0]},header:{fontSize:24,bold:!0,color:"#1e293b"},factureNumber:{fontSize:14,bold:!0,color:"#374151"},date:{fontSize:10,color:"#64748b"},statusConfirmed:{fontSize:10,color:"#059669",bold:!0},statusDraft:{fontSize:10,color:"#d97706",bold:!0},statusCancelled:{fontSize:10,color:"#dc2626",bold:!0},sectionHeader:{fontSize:12,bold:!0,color:"#374151",margin:[0,0,0,5]},supplierName:{fontSize:11,bold:!0,color:"#1e293b"},supplierInfo:{fontSize:9,color:"#64748b",margin:[0,2,0,0]},tableHeader:{fontSize:9,bold:!0,color:"#ffffff",fillColor:"#374151"},totalLabel:{fontSize:10,bold:!0,color:"#1e293b",alignment:"right"},totalAmount:{fontSize:10,bold:!0,color:"#1e293b"},comment:{fontSize:9,color:"#64748b",italics:!0},thankYou:{fontSize:9,color:"#64748b",italics:!0},footer:{fontSize:8,color:"#94a3b8"}},defaultStyle:{fontSize:9,color:"#374151"}};x().createPdf(t).download(`facture-${N.facture_number}.pdf`)},el=e=>new Date(e).toLocaleDateString("fr-FR"),ei=e=>new Intl.NumberFormat("fr-TN",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e)+" DT",eo=()=>"all"===S?e:e.filter(e=>e.status===S);return((0,a.useEffect)(()=>{let e=e=>{B.current&&!B.current.contains(e.target)&&q.current&&!q.current.contains(e.target)&&$(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,a.useEffect)(()=>{H()},[g,C,E]),(0,a.useEffect)(()=>{let e=setTimeout(()=>{Y(I)},300);return()=>clearTimeout(e)},[I]),s)?(0,r.jsx)("div",{className:"min-h-screen bg-white p-6",children:(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-black"})})}):(0,r.jsxs)("div",{className:"min-h-full bg-white px-5",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 mb-1",children:"Gestion des Factures"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"G\xe9rez vos factures fournisseurs et suivez vos achats"})]}),(0,r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-4 bg-gray-600 text-white hover:bg-gray-700 transition-colors mt-4 lg:mt-0 border border-gray-300 focus:ring-1 focus:ring-gray-400",onClick:()=>j(!0),children:[(0,r.jsx)(n.QCG,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Nouvelle Facture"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[(0,r.jsx)("div",{className:"bg-white p-4 border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-base font-medium text-gray-600",children:"Total Factures"}),(0,r.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:W.total})]}),(0,r.jsx)(n.Ecc,{className:"w-5 h-5 text-gray-500"})]})}),(0,r.jsx)("div",{className:"bg-white p-4 border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-base font-medium text-gray-600",children:"Brouillons"}),(0,r.jsx)("p",{className:"text-xl font-semibold text-yellow-600",children:W.draft})]}),(0,r.jsx)(n._yE,{className:"w-5 h-5 text-gray-500"})]})}),(0,r.jsx)("div",{className:"bg-white p-4 border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-base font-medium text-gray-600",children:"Confirm\xe9es"}),(0,r.jsx)("p",{className:"text-xl font-semibold text-green-600",children:W.confirmed})]}),(0,r.jsx)(n.ko0,{className:"w-5 h-5 text-gray-500"})]})}),(0,r.jsx)("div",{className:"bg-white p-4 border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-base font-medium text-gray-600",children:"Annul\xe9es"}),(0,r.jsx)("p",{className:"text-xl font-semibold text-red-600",children:W.cancelled})]}),(0,r.jsx)(n.WZb,{className:"w-5 h-5 text-gray-500"})]})}),(0,r.jsx)("div",{className:"bg-white p-4 border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-base font-medium text-gray-600",children:"Montant Total"}),(0,r.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:ei(W.totalAmount)})]}),(0,r.jsx)(l.default,{src:o.A.src,className:"w-11 h-10",width:11,height:10,alt:"Dinar Logo"})]})})]})]}),d&&(0,r.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(n.WZb,{className:"w-4 h-4 mr-2"}),(0,r.jsx)("span",{className:"text-sm",children:d})]}),(0,r.jsx)("button",{onClick:()=>m(null),className:"text-red-500 hover:text-red-700",children:(0,r.jsx)(n.WZb,{className:"w-4 h-4"})})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200",children:[(0,r.jsx)("div",{className:"border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center p-4",children:[(0,r.jsx)("div",{className:"flex space-x-1 mb-4 lg:mb-0",children:[{id:"all",label:"Toutes",count:W.total},{id:"draft",label:"Brouillons",count:W.draft},{id:"confirmed",label:"Confirm\xe9es",count:W.confirmed},{id:"cancelled",label:"Annul\xe9es",count:W.cancelled}].map(e=>(0,r.jsxs)("button",{onClick:()=>A(e.id),className:`px-3 py-4 text-base font-medium transition-colors border-b-2 ${S===e.id?"border-black text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.label,(0,r.jsx)("span",{className:"ml-2 bg-gray-100 text-gray-600 px-1.5 py-0.5 text-xs",children:e.count})]},e.id))}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full lg:w-auto",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(n.YQq,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,r.jsx)("input",{ref:V,type:"text",placeholder:"Rechercher par fournisseur ou N\xb0 facture (FACT-...) - Appuyez sur Entr\xe9e",value:u,onChange:e=>{p(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&H()},onBlur:()=>{H()},className:"pl-10 pr-4 py-4 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-400 w-full sm:w-64 text-sm"})]}),(0,r.jsx)("div",{className:"w-48",children:(0,r.jsx)(i.Ay,{value:f,onChange:e=>{e&&(b(e),h(e.value))},options:[{value:"all",label:"Tous les statuts"},{value:"draft",label:"Brouillon"},{value:"confirmed",label:"Confirm\xe9"},{value:"cancelled",label:"Annul\xe9"}],styles:{control:(e,t)=>({...e,border:"1px solid #d1d5db",borderRadius:"0px",boxShadow:t.isFocused?"0 0 0 1px #9ca3af":"none","&:hover":{borderColor:"#9ca3af"},minHeight:"53px",padding:"0px 4px"}),option:(e,t)=>({...e,backgroundColor:t.isSelected?"#4b5563":t.isFocused?"#f3f4f6":"white",color:t.isSelected?"white":"#374151",padding:"12px 16px",fontSize:"14px","&:hover":{backgroundColor:"#f3f4f6"}}),menu:e=>({...e,borderRadius:"0px",border:"1px solid #d1d5db",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}),menuList:e=>({...e,padding:"4px 0"}),singleValue:e=>({...e,fontSize:"14px",color:"#374151"}),placeholder:e=>({...e,fontSize:"14px",color:"#9ca3af"}),dropdownIndicator:e=>({...e,padding:"8px"}),clearIndicator:e=>({...e,padding:"8px"}),valueContainer:e=>({...e,padding:"4px 12px"}),input:e=>({...e,margin:"0px",padding:"0px"})},isSearchable:!1})}),(0,r.jsxs)("button",{onClick:()=>H(),className:"flex items-center gap-2 px-3 py-4 bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors text-sm focus:ring-1 focus:ring-gray-400",children:[(0,r.jsx)(n.OWu,{className:"w-4 h-4"}),"Actualiser"]})]})]})}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsxs)("button",{onClick:()=>et("facture_number"),className:"flex items-center gap-1 hover:text-gray-700",children:["Facture","facture_number"===C&&("asc"===E?(0,r.jsx)(n.a0T,{className:"w-3 h-3"}):(0,r.jsx)(n.tEr,{className:"w-3 h-3"}))]})}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider",children:"Fournisseur"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsxs)("button",{onClick:()=>et("facture_date"),className:"flex items-center gap-1 hover:text-gray-700",children:["Date","facture_date"===C&&("asc"===E?(0,r.jsx)(n.a0T,{className:"w-3 h-3"}):(0,r.jsx)(n.tEr,{className:"w-3 h-3"}))]})}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsxs)("button",{onClick:()=>et("total_amount"),className:"flex items-center gap-1 hover:text-gray-700",children:["Montant","total_amount"===C&&("asc"===E?(0,r.jsx)(n.a0T,{className:"w-3 h-3"}):(0,r.jsx)(n.tEr,{className:"w-3 h-3"}))]})}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-base font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===eo().length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,className:"px-4 py-8 text-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[(0,r.jsx)(n.Ecc,{className:"w-12 h-12 mb-4 text-gray-300"}),(0,r.jsx)("p",{className:"text-2xl font-medium mb-2",children:"Aucune facture trouv\xe9e"}),(0,r.jsx)("p",{className:"text-lg mb-4",children:"Commencez par cr\xe9er votre premi\xe8re facture"}),(0,r.jsx)("button",{onClick:()=>j(!0),className:"px-4 py-4 bg-gray-600 text-white text-lg hover:bg-gray-700 transition-colors border border-gray-300 focus:ring-1 focus:ring-gray-400",children:"Cr\xe9er une Facture"})]})})}):eo().map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.facture_number}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:[e.FactureItems?.length||0," produits"]})]})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.supplier_name}),e.supplier_info&&(0,r.jsx)("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:e.supplier_info})]})}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(n.S4m,{className:"w-3 h-3 text-gray-400"}),el(e.facture_date)]})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:ei(e.total_amount)})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsxs)("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium ${"confirmed"===e.status?"bg-green-100 text-green-800":"draft"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:["confirmed"===e.status&&(0,r.jsx)(n.ko0,{className:"w-3 h-3 mr-1"}),"draft"===e.status&&(0,r.jsx)(n._yE,{className:"w-3 h-3 mr-1"}),"cancelled"===e.status&&(0,r.jsx)(n.WZb,{className:"w-3 h-3 mr-1"}),"confirmed"===e.status?"Confirm\xe9":"draft"===e.status?"Brouillon":"Annul\xe9"]})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("button",{onClick:()=>{v(e),k(!0)},className:"flex items-center gap-1 px-4 py-4 text-xs text-gray-600 hover:text-gray-800 hover:bg-gray-100 transition-colors border border-gray-300 focus:ring-1 focus:ring-gray-400",title:"Voir d\xe9tails",children:[(0,r.jsx)(n.JPe,{className:"w-3 h-3"}),"D\xe9tails"]}),"draft"===e.status&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{onClick:()=>X(e.id),className:"flex items-center gap-1 px-4 py-4 text-xs text-green-600 hover:text-green-800 hover:bg-green-50 transition-colors border border-gray-300 focus:ring-1 focus:ring-gray-400",title:"Confirmer",children:[(0,r.jsx)(n.ko0,{className:"w-3 h-3"}),"Confirmer"]}),(0,r.jsxs)("button",{onClick:()=>ee(e.id),className:"flex items-center gap-1 px-4 py-4 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 transition-colors border border-gray-300 focus:ring-1 focus:ring-gray-400",title:"Annuler",children:[(0,r.jsx)(n.WZb,{className:"w-3 h-3"}),"Annuler"]})]}),(0,r.jsx)("button",{onClick:()=>{v(e),ea()},className:"flex items-center gap-1 px-4 py-4 text-xs text-gray-600 hover:text-gray-800 hover:bg-gray-100 transition-colors border border-gray-300 focus:ring-1 focus:ring-gray-400",title:"T\xe9l\xe9charger PDF",children:(0,r.jsx)(n.U01,{className:"w-4 h-4"})})]})})]},e.id))})]})})]}),w&&N&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/90 bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsx)("div",{className:"bg-white w-full max-w-5xl max-h-[95vh] overflow-y-auto border border-gray-200",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"D\xe9tails de la Facture"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["N\xb0 ",N.facture_number]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)("button",{onClick:ea,className:"flex items-center gap-2 px-3 py-4 bg-gray-600 text-white text-sm hover:bg-gray-700 transition-colors border border-gray-300 focus:ring-1 focus:ring-gray-400",children:[(0,r.jsx)(n.U01,{className:"w-4 h-4"}),"Exporter PDF"]}),(0,r.jsx)("button",{onClick:()=>k(!1),className:"px-3 py-4 bg-white border border-gray-300 text-gray-700 text-sm hover:bg-gray-50 transition-colors focus:ring-1 focus:ring-gray-400",children:"Fermer"})]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200",children:[(0,r.jsx)("div",{className:"bg-gray-100 text-black p-6",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold mb-1",children:"FACTURE"}),(0,r.jsxs)("p",{className:"text-gray-600 text-sm",children:["N\xb0 ",N.facture_number]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-gray-600 text-sm",children:"Date d'\xe9mission"}),(0,r.jsx)("div",{className:"text-black text-sm font-medium",children:el(N.facture_date)}),(0,r.jsx)("div",{className:`mt-1 px-2 py-0.5 text-xs font-medium inline-block ${"confirmed"===N.status?"bg-green-600 text-white":"draft"===N.status?"bg-yellow-600 text-white":"bg-red-600 text-white"}`,children:"confirmed"===N.status?"CONFIRM\xc9":"draft"===N.status?"BROUILLON":"ANNUL\xc9"})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"VOTRE ENTREPRISE"}),(0,r.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,r.jsx)("p",{className:"font-medium",children:"Nom de l'Entreprise"}),(0,r.jsx)("p",{children:"123 Rue Principale"}),(0,r.jsx)("p",{children:"Tunis, Tunisie"}),(0,r.jsx)("p",{children:"+216 12 345 678"}),(0,r.jsx)("p",{children:"contact@entreprise.tn"})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"FOURNISSEUR"}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:N.supplier_name}),N.supplier_info&&(0,r.jsx)("p",{className:"text-sm text-gray-600",children:N.supplier_info})]})]})]}),(0,r.jsxs)("div",{className:"px-6 pb-6",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"PRODUITS"}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-50",children:[(0,r.jsx)("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase border-b border-gray-200",children:"Produit"}),(0,r.jsx)("th",{className:"px-4 py-4 text-center text-xs font-medium text-gray-500 uppercase border-b border-gray-200",children:"Quantit\xe9"}),(0,r.jsx)("th",{className:"px-4 py-4 text-right text-xs font-medium text-gray-500 uppercase border-b border-gray-200",children:"Prix Unitaire"}),(0,r.jsx)("th",{className:"px-4 py-4 text-right text-xs font-medium text-gray-500 uppercase border-b border-gray-200",children:"Total"})]})}),(0,r.jsx)("tbody",{children:er(N).map((e,t)=>(0,r.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.product?.name||`Produit #${e.product_id}`}),e.product?.sku&&(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["SKU: ",e.product.sku]})]})}),(0,r.jsx)("td",{className:"px-4 py-3 text-center text-sm text-gray-600",children:e.quantity}),(0,r.jsx)("td",{className:"px-4 py-3 text-right text-sm text-gray-600",children:ei(e.unit_cost)}),(0,r.jsx)("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900",children:ei(e.total_cost)})]},t))}),(0,r.jsx)("tfoot",{children:(0,r.jsxs)("tr",{className:"bg-gray-50",children:[(0,r.jsx)("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:"TOTAL:"}),(0,r.jsx)("td",{className:"px-4 py-3 text-right text-lg font-semibold text-gray-900",children:ei(N.total_amount)})]})})]})})]}),N.comment&&(0,r.jsxs)("div",{className:"px-6 pb-6",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"OBSERVATIONS"}),(0,r.jsx)("div",{className:"bg-gray-50 border border-gray-200 p-4",children:(0,r.jsx)("p",{className:"text-sm text-gray-700",children:N.comment})})]}),(0,r.jsx)("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"text-center text-xs text-gray-500",children:[(0,r.jsxs)("p",{children:["Facture g\xe9n\xe9r\xe9e le"," ",new Date().toLocaleDateString("fr-FR")," \xe0"," ",new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]}),(0,r.jsx)("p",{className:"mt-1",children:"Merci pour votre confiance"})]})})]})]})})}),y&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/90 bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsx)("div",{className:"bg-white w-full max-w-6xl max-h-[95vh] overflow-y-auto border border-gray-200",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Nouvelle Facture"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Cr\xe9ez une nouvelle facture fournisseur"})]}),(0,r.jsx)("button",{onClick:()=>j(!1),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",children:(0,r.jsx)(n.WZb,{className:"w-10 h-10"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-1 space-y-4",children:[(0,r.jsxs)("div",{className:"bg-white border border-gray-200 p-4",children:[(0,r.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,r.jsx)(n.Bl4,{className:"w-4 h-4 text-gray-500"}),"Informations Fournisseur"]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nom du Fournisseur *"}),(0,r.jsx)("input",{type:"text",value:O.supplier_name,onChange:e=>P({...O,supplier_name:e.target.value}),className:"w-full px-3 py-4 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-400 text-sm",placeholder:"Saisissez le nom du fournisseur"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Informations suppl\xe9mentaires"}),(0,r.jsx)("textarea",{value:O.supplier_info,onChange:e=>P({...O,supplier_info:e.target.value}),className:"w-full px-3 py-4 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-400 text-sm resize-none",rows:2,placeholder:"Contact, adresse, informations..."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:[(0,r.jsx)(n.uhe,{className:"w-3 h-3 inline mr-1"}),"T\xe9l\xe9phone"]}),(0,r.jsx)("input",{type:"tel",value:O.supplier_phone,onChange:e=>P({...O,supplier_phone:e.target.value}),className:"w-full px-3 py-4 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-400 text-sm",placeholder:"+216"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:[(0,r.jsx)(n.Y2n,{className:"w-3 h-3 inline mr-1"}),"Email"]}),(0,r.jsx)("input",{type:"email",value:O.supplier_email,onChange:e=>P({...O,supplier_email:e.target.value}),className:"w-full px-3 py-4 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-400 text-sm",placeholder:"email@exemple.com"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:[(0,r.jsx)(n.ydi,{className:"w-3 h-3 inline mr-1"}),"Adresse"]}),(0,r.jsx)("input",{type:"text",value:O.supplier_address,onChange:e=>P({...O,supplier_address:e.target.value}),className:"w-full px-3 py-4 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-400 text-sm",placeholder:"Adresse compl\xe8te"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 p-4",children:[(0,r.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,r.jsx)(n.S4m,{className:"w-4 h-4 text-gray-500"}),"Informations Facture"]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date de la Facture"}),(0,r.jsx)("input",{type:"date",value:O.facture_date,onChange:e=>P({...O,facture_date:e.target.value}),className:"w-full px-3 py-4 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-400 text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Commentaire"}),(0,r.jsx)("textarea",{value:O.comment,onChange:e=>P({...O,comment:e.target.value}),className:"w-full px-3 py-4 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-400 text-sm resize-none",rows:3,placeholder:"Notes suppl\xe9mentaires, conditions particuli\xe8res..."})]})]})]})]}),(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,r.jsxs)("div",{className:"bg-white border border-gray-200 p-4",children:[(0,r.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,r.jsx)(n.YQq,{className:"w-4 h-4 text-gray-500"}),"Ajouter des Produits"]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{ref:q,type:"text",value:I,onChange:e=>{D(e.target.value)},onFocus:()=>{I.trim()&&R.length>0&&$(!0)},className:"w-full px-3 py-4 border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-400 text-sm",placeholder:"Rechercher un produit par nom, code barre, SKU..."}),(0,r.jsx)(n.YQq,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),L&&R.length>0&&(0,r.jsx)("div",{ref:B,className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 max-h-60 overflow-y-auto",children:R.map(e=>(0,r.jsx)("div",{className:"p-3 border-b border-gray-200 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>(e=>{if(F.find(t=>t.product_id===e.id))z(F.map(t=>t.product_id===e.id?{...t,quantity:t.quantity+1,total_cost:(t.quantity+1)*t.unit_cost}:t));else{let t=e.cost_price||.8*e.price;z([...F,{product_id:e.id,product:e,quantity:1,unit_cost:t,total_cost:t}])}D(""),U([]),$(!1)})(e),children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-0.5",children:["SKU: ",e.sku," | Stock: ",e.stock," ","| Prix: ",ei(e.price)]}),e.category&&(0,r.jsx)("div",{className:"text-xs text-gray-600 mt-0.5",children:e.category})]}),(0,r.jsxs)("div",{className:"flex gap-1 ml-3",children:[(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),Q(e,1)},className:"px-1.5 py-0.5 bg-gray-600 text-white text-xs hover:bg-gray-700 transition-colors border border-gray-300 focus:ring-1 focus:ring-gray-400",children:"+1"}),(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),Q(e,5)},className:"px-1.5 py-0.5 bg-gray-600 text-white text-xs hover:bg-gray-700 transition-colors border border-gray-300 focus:ring-1 focus:ring-gray-400",children:"+5"})]})]})},e.id))})]})]}),F.length>0&&(0,r.jsxs)("div",{className:"bg-white border border-gray-200",children:[(0,r.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2",children:[(0,r.jsx)(n.Xs8,{className:"w-4 h-4 text-gray-500"}),"Produits Ajout\xe9s (",F.length,")"]}),(0,r.jsxs)("button",{onClick:()=>{F.length>0&&confirm("\xcates-vous s\xfbr de vouloir supprimer tous les produits ?")&&z([])},className:"flex items-center gap-1 px-2 py-1 text-xs text-red-600 hover:text-red-800 hover:bg-red-50 transition-colors border border-gray-300 focus:ring-1 focus:ring-gray-400",children:[(0,r.jsx)(n.WeY,{className:"w-3 h-3"}),"Tout supprimer"]})]})}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase border-b border-gray-200",children:"Produit"}),(0,r.jsx)("th",{className:"px-4 py-4 text-center text-xs font-medium text-gray-500 uppercase border-b border-gray-200",children:"Quantit\xe9"}),(0,r.jsx)("th",{className:"px-4 py-4 text-right text-xs font-medium text-gray-500 uppercase border-b border-gray-200",children:"Prix Unitaire"}),(0,r.jsx)("th",{className:"px-4 py-4 text-right text-xs font-medium text-gray-500 uppercase border-b border-gray-200",children:"Total"}),(0,r.jsx)("th",{className:"px-4 py-4 text-center text-xs font-medium text-gray-500 uppercase border-b border-gray-200",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200",children:F.map((e,t)=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,r.jsx)("td",{className:"px-4 py-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.product?.name||"Produit non trouv\xe9"}),e.product?.sku&&(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["SKU: ",e.product.sku]})]})}),(0,r.jsx)("td",{className:"px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,r.jsx)("button",{onClick:()=>K(t,e.quantity-1),disabled:e.quantity<=1,className:"w-6 h-6 flex items-center justify-center border border-gray-300 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-xs",children:"-"}),(0,r.jsx)("input",{type:"number",min:"1",value:e.quantity,onChange:e=>K(t,parseInt(e.target.value)||1),className:"w-16 px-2 py-1 border border-gray-300 text-center focus:outline-none focus:ring-1 focus:ring-gray-400 text-sm"}),(0,r.jsx)("button",{onClick:()=>K(t,e.quantity+1),className:"w-6 h-6 flex items-center justify-center border border-gray-300 hover:bg-gray-100 transition-colors text-xs",children:"+"})]})}),(0,r.jsx)("td",{className:"px-4 py-4",children:(0,r.jsx)("input",{type:"number",step:"0.01",min:"0",value:e.unit_cost,onChange:e=>((e,t)=>{if(t<0)return;let s=[...F];s[e]={...s[e],unit_cost:t,total_cost:s[e].quantity*t},z(s)})(t,parseFloat(e.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 text-right focus:outline-none focus:ring-1 focus:ring-gray-400 text-sm"})}),(0,r.jsx)("td",{className:"px-4 py-4 text-right text-sm font-medium text-gray-900",children:ei(e.total_cost)}),(0,r.jsx)("td",{className:"px-4 py-4 text-center",children:(0,r.jsx)("button",{onClick:()=>{z(F.filter((e,s)=>s!==t))},className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-50 transition-colors border border-gray-300 focus:ring-1 focus:ring-gray-400",title:"Supprimer",children:(0,r.jsx)(n.WeY,{className:"w-3 h-3"})})})]},t))}),(0,r.jsx)("tfoot",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{colSpan:3,className:"px-4 py-4 text-right text-sm font-medium text-gray-700",children:"TOTAL:"}),(0,r.jsx)("td",{className:"px-4 py-4 text-right text-lg font-semibold text-gray-900",children:ei(F.reduce((e,t)=>e+t.total_cost,0))}),(0,r.jsx)("td",{})]})})]})})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200",children:[(0,r.jsx)("button",{onClick:()=>{j(!1),J()},className:"px-4 py-4 bg-white border border-gray-300 text-gray-700 text-sm hover:bg-gray-50 transition-colors focus:ring-1 focus:ring-gray-400",children:"Annuler"}),(0,r.jsxs)("button",{onClick:Z,disabled:!O.supplier_name.trim()||0===F.length,className:"px-4 py-4 bg-gray-600 text-white text-sm hover:bg-gray-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors border border-gray-300 focus:ring-1 focus:ring-gray-400 flex items-center gap-2",children:[(0,r.jsx)(n.ko0,{className:"w-4 h-4"}),"Cr\xe9er la Facture"]})]})]})]})]})})})]})}x().vfs=m.vfs;let p=()=>{let[e,t]=(0,a.useState)("produit");return(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("header",{className:"flex items-center py-4 bg-white",children:(0,r.jsxs)("button",{onClick:()=>{t(e=>"produit"===e?"facture":"produit")},className:"flex items-center gap-2 px-6 py-4 mx-5 font-normal text-sm bg-transparent text-gray-500 border border-gray-500 hover:bg-gray-100 transition",children:[(0,r.jsx)(n.T7Z,{className:"w-5 h-5"}),"produit"===e?"Facture":"Produit"]})}),(0,r.jsx)("main",{className:"",children:"produit"===e?(0,r.jsx)(c,{}):(0,r.jsx)(u,{})})]})}},42461:(e,t,s)=>{Promise.resolve().then(s.bind(s,35839))}},e=>{e.O(0,[87,626,28,772,848,441,794,358],()=>e(e.s=42461)),_N_E=e.O()}]);